RewriteEngine On
RewriteBase /

# Handle client-side routing
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.html [L]

# Prevent service worker caching
<Files "serviceworker.js">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires "0"
</Files>

# Prevent HTML caching for fresh content
<Files "index.html">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires "0"
</Files>

# Cache static assets for performance
<FilesMatch "\.(css|js|png|jpg|jpeg|gif|svg|ico|webmanifest)$">
    Header set Cache-Control "public, max-age=31536000"
</FilesMatch>