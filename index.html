<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Coffee Masters</title>

    <!-- Base path for GitHub Pages repository deployment -->
    <base href="/coffe/" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <script src="app.js" defer type="module"></script>
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="app.webmanifest" />
    <link rel="apple-touch-icon" href="images/icons/icon.png" />
    <link rel="icon" href="images/icons/icon.png" />

    <!-- GitHub Pages SPA routing fix -->
    <script>
      // Check if we were redirected from 404.html
      (function () {
        var redirectPath = sessionStorage.getItem("redirectPath");
        if (redirectPath) {
          sessionStorage.removeItem("redirectPath");
          history.replaceState(null, null, redirectPath);
        }
      })();
    </script>
  </head>

  <body>
    <header>
      <h1><img src="images/logo.svg" width="140" alt="Coffee Masters" /></h1>
      <nav>
        <a class="navlink material-symbols-outlined" id="linkHome" href="/">
          local_cafe
        </a>
        <a
          class="navlink material-symbols-outlined"
          id="linkOrder"
          href="/order"
        >
          shopping_cart
        </a>
        <span id="badge" hidden></span>
        <button
          class="navlink material-symbols-outlined"
          id="theme-toggle"
          title="Toggle dark mode"
        >
          dark_mode
        </button>
        <a
          class="navlink material-symbols-outlined"
          id="linkProfile"
          href="/profile"
        >
          account_circle
        </a>
        <a class="navlink material-symbols-outlined" id="linkAuth" href="/auth">
          login
        </a>
      </nav>
    </header>

    <main></main>

    <template id="menu-page-template">
      <section>
        <ul id="menu"></ul>
      </section>
    </template>

    <template id="product-item-template">
      <article>
        <a href="#">
          <img />
          <section>
            <div>
              <h4></h4>
              <p class="price"></p>
              <p></p>
            </div>

            <button>Add</button>
          </section>
        </a>
      </article>
    </template>

    <template id="order-form-template">
      <form>
        <label for="name">Your Name</label>
        <input name="name" required />
        <label for="phone">Your Phone Number</label>
        <input name="phone" type="tel" />
        <label for="email">Your Email</label>
        <input name="email" type="email" />
        <button type="submit">Place Order</button>
      </form>
    </template>

    <template id="details-page-template">
      <header>
        <a href="#" onclick="app.router.go('/'); event.preventDefault()"
          >&lt; Back</a
        >
        <h2></h2>
        <a></a>
      </header>
      <img src="" />
      <p class="description"></p>
      <p class="price"></p>
      <button>Add to cart</button>
    </template>

    <template id="cart-item-template">
      <li>
        <img class="cart-item-image" src="" alt="" />
        <div class="cart-item-details">
          <p class="name"></p>
          <div class="qty"></div>
        </div>
        <p class="price"></p>
        <p class="toolbar">
          <a href="#" class="delete-button"> üóëÔ∏è </a>
        </p>
      </li>
    </template>

    <style>
      .qty-label {
        font-size: 12px;
        color: var(--color4, #b08968);
        margin: 0;
        font-weight: 500;
      }

      .quantity-controls {
        display: flex;
        align-items: center;
        gap: 0;
        background: var(--bg-color, white);
        border: 1px solid var(--border-color, #ddd);
        border-radius: 20px;
        padding: 2px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .qty-btn {
        width: 24px;
        height: 24px;
        border: none;
        background: transparent;
        color: var(--text-color, #333);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-weight: bold;
        font-size: 12px;
        transition: all 0.2s ease;
      }

      .qty-btn:hover {
        background: var(--color1, #7f5539);
        color: white;
      }

      .qty-display {
        min-width: 30px;
        text-align: center;
        font-weight: 500;
        color: var(--text-color, #333);
        padding: 0 8px;
        line-height: 24px;
      }
    </style>
  </body>
</html>
